[gd_scene load_steps=45 format=3 uid="uid://wno55x14kbsr"]

[ext_resource type="PackedScene" uid="uid://eneimymgmmg7" path="res://scenes/based_scenes/Units/Unit.tscn" id="1_faebf"]
[ext_resource type="Script" uid="uid://dlv51i04aukjk" path="res://scenes/units/elem_fire_small.gd" id="2_5fa17"]
[ext_resource type="Texture2D" uid="uid://owxonpwtqenk" path="res://img/SpriteFireD.png" id="2_koo4c"]
[ext_resource type="Texture2D" uid="uid://dw8h5g4cpnvcs" path="res://img/min_fire_d.png" id="3_avlgy"]

[sub_resource type="AtlasTexture" id="AtlasTexture_ij4wd"]
atlas = ExtResource("3_avlgy")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gcwep"]
atlas = ExtResource("3_avlgy")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_km5md"]
atlas = ExtResource("3_avlgy")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ldods"]
atlas = ExtResource("3_avlgy")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qg661"]
atlas = ExtResource("3_avlgy")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8hkot"]
atlas = ExtResource("3_avlgy")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5fa17"]
atlas = ExtResource("2_koo4c")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dwron"]
atlas = ExtResource("2_koo4c")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_oou2c"]
atlas = ExtResource("2_koo4c")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6quc5"]
atlas = ExtResource("2_koo4c")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xxcav"]
atlas = ExtResource("2_koo4c")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ysqr8"]
atlas = ExtResource("2_koo4c")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_rxbf0"]
atlas = ExtResource("2_koo4c")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_osc1s"]
atlas = ExtResource("2_koo4c")
region = Rect2(448, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_0i4su"]
atlas = ExtResource("2_koo4c")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_48ykd"]
atlas = ExtResource("2_koo4c")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_cgxf5"]
atlas = ExtResource("2_koo4c")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ol44i"]
atlas = ExtResource("2_koo4c")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_dwvly"]
atlas = ExtResource("2_koo4c")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ygc4t"]
atlas = ExtResource("2_koo4c")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_i66by"]
atlas = ExtResource("2_koo4c")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gng20"]
atlas = ExtResource("2_koo4c")
region = Rect2(448, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1h4wu"]
atlas = ExtResource("2_koo4c")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_clvfi"]
atlas = ExtResource("2_koo4c")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6q5jd"]
atlas = ExtResource("2_koo4c")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_h8uwu"]
atlas = ExtResource("2_koo4c")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_kl6bx"]
atlas = ExtResource("2_koo4c")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_7sv1j"]
atlas = ExtResource("2_koo4c")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_1aq3u"]
atlas = ExtResource("2_koo4c")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_f7hy4"]
atlas = ExtResource("2_koo4c")
region = Rect2(448, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bxcua"]
atlas = ExtResource("2_koo4c")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_i716t"]
atlas = ExtResource("2_koo4c")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uejc1"]
atlas = ExtResource("2_koo4c")
region = Rect2(128, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_40jan"]
atlas = ExtResource("2_koo4c")
region = Rect2(192, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_u68i6"]
atlas = ExtResource("2_koo4c")
region = Rect2(256, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fkal0"]
atlas = ExtResource("2_koo4c")
region = Rect2(320, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_eamxy"]
atlas = ExtResource("2_koo4c")
region = Rect2(384, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_telp3"]
atlas = ExtResource("2_koo4c")
region = Rect2(448, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_blged"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ij4wd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gcwep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_km5md")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ldods")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qg661")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8hkot")
}],
"loop": false,
"name": &"Death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5fa17")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dwron")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oou2c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6quc5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xxcav")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ysqr8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rxbf0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_osc1s")
}],
"loop": true,
"name": &"IdleL",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0i4su")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_48ykd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cgxf5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ol44i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dwvly")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ygc4t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i66by")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gng20")
}],
"loop": true,
"name": &"IdleR",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1h4wu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_clvfi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6q5jd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h8uwu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kl6bx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7sv1j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1aq3u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f7hy4")
}],
"loop": true,
"name": &"WalkL",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bxcua")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i716t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uejc1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_40jan")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u68i6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fkal0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eamxy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_telp3")
}],
"loop": true,
"name": &"WalkR",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_gocw2"]
radius = 338.013

[node name="Unit" instance=ExtResource("1_faebf")]
collision_layer = 4
script = ExtResource("2_5fa17")
large_attack_dist = 500
small_attack_dist = 50
patrol_speed = 80.0
chase_speed = 260.0
sight_range = 500.0
patrol_wait_time = 1.0
search_duration = 5.0
dash_speed = 1000.0
dash_duration = 0.6
dash_cooldown = 2.0
attack_duration = 0.5
max_health = 80.0

[node name="AnimatedSprite2D" parent="." index="0"]
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_blged")
animation = &"Death"

[node name="Hitbox" parent="." index="1"]
polygon = PackedVector2Array(9, -2, 17, 7, 17, 23, 4, 32, -6, 32, -20, 23, -20, 6, -12, -2)

[node name="ViewArea" type="Area2D" parent="." index="2"]
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="ViewArea" index="0"]
position = Vector2(0, 14)
shape = SubResource("CircleShape2D_gocw2")

[connection signal="body_entered" from="ViewArea" to="." method="_on_detection_area_body_entered"]
